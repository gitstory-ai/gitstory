# TASK-0001.1.2.1: Write BDD scenarios for marketplace config and SKILL.md

**Parent Story**: [STORY-0001.1.2](README.md)
**Status**: ðŸ”µ Not Started
**Estimated Hours**: 3
**Actual Hours**: -

## Objective

Write complete BDD test suite with all 3 scenarios from the story README in Gherkin format and stubbed step definitions. This task defines WHAT the system should do before implementing HOW it does it.

## BDD Progress

**Before this task**: 0/3 scenarios (none exist)
**After this task**: 0/3 scenarios passing (all stubbed, all failing)

**Scenarios for this task:**

- Scenario 1: Marketplace config enables skill installation
- Scenario 2: SKILL.md scaffold provides activation guidance
- Scenario 3: SKILL.md follows anthropics/skills conventions

## Implementation Checklist

### Create Feature File

- [ ] Create `tests/e2e/features/skill_scaffold.feature`
- [ ] Write Scenario 1: Marketplace config enables skill installation
  - [ ] Given .claude-plugin/config.json with skill metadata
  - [ ] When validated against anthropics/skills format
  - [ ] Then JSON syntax passes, all required fields present, entry_point references SKILL.md
- [ ] Write Scenario 2: SKILL.md scaffold provides activation guidance
  - [ ] Given skills/gitstory/SKILL.md with activation section
  - [ ] When Claude loads the skill
  - [ ] Then it recognizes command triggers, natural language triggers, ticket ID patterns
- [ ] Write Scenario 3: SKILL.md follows anthropics/skills conventions
  - [ ] Given ALL anthropics/skills examples reviewed
  - [ ] When comparing SKILL.md structure
  - [ ] Then it has no YAML frontmatter, consistent heading structure, appropriate word count

### Create Step Definition Stubs

- [ ] Create `tests/e2e/steps/test_skill_scaffold.py`
- [ ] Stub all step definitions (each raises NotImplementedError)
- [ ] Ensure clear step names matching Gherkin

### Verification

- [ ] Run pytest - all 3 scenarios fail with NotImplementedError âœ“
- [ ] Scenarios are concrete and executable (no placeholders)
- [ ] Step definitions follow naming conventions

## Files to Create/Modify

- CREATE: `tests/e2e/features/skill_scaffold.feature` (~80 lines, 3 scenarios)
- CREATE: `tests/e2e/steps/test_skill_scaffold.py` (~60 lines, stubbed steps)

## Pattern Reuse

- `e2e_bdd_feature_scaffold` (tests/e2e/features/*.feature) - Standard Gherkin feature file structure with Given/When/Then scenarios

## Dependencies

- Feature file format follows pytest-bdd conventions
- Step definitions use pytest-bdd decorators (@given, @when, @then)
