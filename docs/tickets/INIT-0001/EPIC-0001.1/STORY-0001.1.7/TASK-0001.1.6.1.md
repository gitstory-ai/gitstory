# TASK-0001.1.6.1: Write template authoring and command configuration guides

**Parent Story**: [STORY-0001.1.6](README.md)
**Status**: ðŸ”µ Not Started
**Estimated Hours**: 12
**Actual Hours**: -

## Objective

Write comprehensive documentation guides for template authoring and command configuration (500-1000 words each). These guides enable users to customize GitStory without reading source code, supporting the progressive disclosure pattern established in STORY-0001.1.3.

## Implementation Checklist

### Directory Verification

- [ ] Verify references directory exists: `test -d skills/gitstory/references/`
- [ ] If missing, create with: `mkdir -p skills/gitstory/references/`

### Create template-authoring.md

- [ ] Create `skills/gitstory/references/template-authoring.md`
- [ ] Add introduction to template system (50-75 words):
  - What templates are (YAML frontmatter + markdown body)
  - Where they're used (ticket creation)
  - Why customize (team-specific workflows)
- [ ] Add YAML frontmatter schema section (100-150 words):
  - Structure: `---` delimiters, YAML syntax
  - Required fields: name, description, fields
  - Optional fields: validation, defaults
- [ ] Add field type reference (150-200 words):
  - string: text input, validation with regex
  - number: integer/decimal, min/max constraints
  - enum: dropdown selection, predefined values
  - array: list input, min/max items
- [ ] Add validation patterns section (100-150 words):
  - required: field must have value
  - minLength/maxLength: string constraints
  - min/max: number constraints
  - pattern: regex validation
  - Examples for each pattern type
- [ ] Add variable substitution section (50-75 words):
  - Placeholder syntax: `{{variable}}`
  - Available variables: title, id, date, etc.
- [ ] Add lookup priority section (75-100 words):
  - Project override: `.gitstory/templates/{name}.md`
  - User override: `~/.claude/skills/gitstory/templates/{name}.md`
  - Skill default: `{baseDir}/templates/{name}.md`
  - How resolution works
- [ ] Add complete example template (100-125 words):
  - Full story.md example with YAML frontmatter
  - Show field definitions
  - Show markdown body scaffold
  - Annotate key parts
- [ ] Add validation steps section (50-75 words):
  - YAML syntax check: `python -c "import yaml; yaml.safe_load(...)"`
  - Markdown preview verification
  - Field schema validation

### Create command-configuration.md

- [ ] Create `skills/gitstory/references/command-configuration.md`
- [ ] Add introduction to command configs (50-75 words):
  - What command configs are (YAML files)
  - Which commands use them (plan, review)
  - Why customize (team-specific questions/thresholds)
- [ ] Add plan.yaml format section (150-200 words):
  - Structure: config_version + interview_questions
  - Interview question schema:
    - prompt: question text
    - field: maps to template field
    - type: input type (string/integer/enum/list/textarea)
    - required: boolean
  - Example for one ticket type (story)
- [ ] Add review.yaml format section (150-200 words):
  - Structure: config_version + quality_thresholds + vague_term_penalties
  - Quality thresholds per ticket type (70-95%)
  - Vague term penalties (High/Medium/Low severity)
  - Acceptance criteria requirements
  - Example configuration
- [ ] Add config versioning section (75-100 words):
  - config_version field purpose
  - Current version: "1.0"
  - Version validation on load
  - Migration path for future versions
- [ ] Add customization examples section (100-150 words):
  - Example 1: Add custom interview question for story type
  - Example 2: Adjust quality threshold for task type
  - Example 3: Add new vague term penalty
- [ ] Add lookup priority section (75-100 words):
  - Project override: `.gitstory/commands/{name}.yaml`
  - User override: `~/.claude/skills/gitstory/commands/{name}.yaml`
  - Skill default: `{baseDir}/commands/{name}.yaml`
- [ ] Add validation steps section (50-75 words):
  - YAML syntax check
  - config_version field verification
  - Schema validation

### Cross-Reference Links

- [ ] Add cross-references in template-authoring.md:
  - Link to command-configuration.md for interview questions
  - Link to troubleshooting.md for common issues
- [ ] Add cross-references in command-configuration.md:
  - Link to template-authoring.md for field schemas
  - Link to troubleshooting.md for config loading issues
- [ ] Use {baseDir} pattern consistently:
  - `{baseDir}/references/template-authoring.md`
  - `{baseDir}/references/command-configuration.md`
  - `{baseDir}/references/troubleshooting.md`

### Validation

- [ ] Validate markdown renders correctly:
  - [ ] Open in markdown preview (VSCode/GitHub)
  - [ ] Check: Headings display as h1/h2/h3
  - [ ] Check: Lists show bullets
  - [ ] Check: Code blocks show syntax highlighting
  - [ ] Check: Cross-reference links are clickable

- [ ] Verify word counts (500-1000 words, excluding code blocks and headings):
  ```bash
  grep -Ev '^(```|#)' skills/gitstory/references/template-authoring.md | wc -w
  # Result should be 500-1000

  grep -Ev '^(```|#)' skills/gitstory/references/command-configuration.md | wc -w
  # Result should be 500-1000
  ```

- [ ] Verify cross-references resolve:
  ```bash
  grep -r "{baseDir}/references/" skills/gitstory/references/
  # Check all references exist
  ```

### Optional: Add Python Validation Tests

Per TESTING.md, can add unit tests for documentation:

- [ ] Add test to `tests/test_documentation.py` (if created):
- [ ] Test: Reference docs exist at expected paths
- [ ] Test: Docs meet minimum word count (500-1000)
- [ ] Test: Cross-references are valid

Note: Python tests are optional - primary validation is manual using bash commands above.

## Files to Create/Modify

- **CREATE**: `skills/gitstory/references/template-authoring.md` (~750 words body + code examples = ~120 lines)
  - Sections: Introduction, YAML Schema, Field Types, Validation, Variables, Lookup Priority, Example, Validation Steps
- **CREATE**: `skills/gitstory/references/command-configuration.md` (~750 words body + code examples = ~120 lines)
  - Sections: Introduction, plan.yaml Format, review.yaml Format, Versioning, Examples, Lookup Priority, Validation
- **MODIFY** (optional): `tests/test_documentation.py` (add reference doc validation tests if file exists)

## Pattern Reuse

- Word count targets from TASK-0001.1.3.2 (SKILL.md scaffold creation)
- Cross-reference pattern using {baseDir} from STORY-0001.1.2
- Progressive disclosure pattern from STORY-0001.1.3
- Documentation structure from SKILL.md (clear sections, concise explanations)

## Dependencies

- STORY-0001.1.2 complete: skills/gitstory/references/ directory exists
- STORY-0001.1.4 complete: Template system to document
- STORY-0001.1.5 complete: Command config system to document
- Understanding of template and command systems from technical design

## Word Count Targets

**template-authoring.md (750 words total):**
- Introduction: 50-75 words
- YAML Schema: 100-150 words
- Field Types: 150-200 words
- Validation: 100-150 words
- Variables: 50-75 words
- Lookup Priority: 75-100 words
- Example: 100-125 words
- Validation Steps: 50-75 words

**command-configuration.md (750 words total):**
- Introduction: 50-75 words
- plan.yaml Format: 150-200 words
- review.yaml Format: 150-200 words
- Versioning: 75-100 words
- Examples: 100-150 words
- Lookup Priority: 75-100 words
- Validation Steps: 50-75 words

## Notes

**Testing strategy**: Per TESTING.md, these are markdown documentation files (infrastructure). Manual validation using bash commands and markdown preview is primary approach. Python unit tests are optional.

**Progressive disclosure**: These guides provide the "how-to" details that are too verbose for SKILL.md. SKILL.md references these guides using {baseDir}/references/ pattern.

**Cross-references**: Use {baseDir} pattern consistently to make links portable across different installation types (marketplace vs local development).

**Code examples**: Copy-paste from actual working templates and configs (created in STORY-0001.1.4 and STORY-0001.1.5) to ensure accuracy.

**Success criteria**:
- Both files created with 500-1000 words
- Markdown renders correctly in preview
- Cross-references use {baseDir} pattern
- Code examples are accurate (match actual files)
- Word counts within target ranges
