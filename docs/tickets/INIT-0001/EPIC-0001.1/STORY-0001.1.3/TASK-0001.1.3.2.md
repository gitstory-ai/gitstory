# TASK-0001.1.3.2: Implement 6 Placeholder Commands

**Parent Story**: [STORY-0001.1.3](README.md)
**Status**: ðŸ”µ Not Started
**Estimated Hours**: 4
**Actual Hours**: -

## Objective

Implement 6 CLI commands with placeholder functionality, consistent argument patterns, and proper error handling optimized for Claude invocation.

## Implementation Checklist

### Phase 1: Write Unit Tests First (TDD - RED)

- [ ] Write tests for plan command (`tests/unit/cli/test_commands.py`)
- [ ] Write tests for review command
- [ ] Write tests for execute command
- [ ] Write tests for validate command
- [ ] Write tests for test-plugin command
- [ ] Write tests for init command
- [ ] Run tests - all fail âœ“

### Phase 2: Implement Commands (GREEN)

- [ ] Create `src/gitstory/cli/plan.py` with @app.command() decorator
- [ ] Create `src/gitstory/cli/review.py` with @app.command() decorator
- [ ] Create `src/gitstory/cli/execute.py` with @app.command() decorator
- [ ] Create `src/gitstory/cli/validate.py` with @app.command() decorator
- [ ] Create `src/gitstory/cli/test_plugin.py` with @app.command() decorator
- [ ] Create `src/gitstory/cli/init.py` with @app.command() decorator
- [ ] Run tests - all pass âœ“

### Phase 3: Register Commands

- [ ] Import all commands in `src/gitstory/cli/__init__.py`
- [ ] Verify commands appear in `gitstory --help` output
- [ ] Test each command executes without errors

### Verification

- [ ] All unit tests pass
- [ ] All 6 commands listed in `gitstory --help`
- [ ] Each command shows help: `gitstory plan --help` works
- [ ] Commands accept ticket ID argument: `gitstory plan STORY-0001.2.4` prints placeholder
- [ ] Commands show "Coming in EPIC-0001.2" message with context
- [ ] Exit codes: 0 for success, non-zero for errors
- [ ] Code coverage >90%

## Files to Create/Modify

- CREATE: `src/gitstory/cli/plan.py` (~40 lines, plan command)
- CREATE: `src/gitstory/cli/review.py` (~40 lines, review command)
- CREATE: `src/gitstory/cli/execute.py` (~40 lines, execute command)
- CREATE: `src/gitstory/cli/validate.py` (~40 lines, validate command)
- CREATE: `src/gitstory/cli/test_plugin.py` (~40 lines, test-plugin command)
- CREATE: `src/gitstory/cli/init.py` (~40 lines, init command)
- MODIFY: `src/gitstory/cli/__init__.py` (import all commands)
- CREATE: `tests/unit/cli/test_commands.py` (~120 lines, tests for all commands)

## Command Signatures (Consistent Pattern)

### 1. plan command
```python
@app.command()
def plan(
    ticket_id: str = typer.Argument(..., help="Ticket ID to plan (e.g., STORY-0001.2.4)"),
    verbose: bool = typer.Option(False, "--verbose", "-v", help="Show detailed output"),
) -> None:
    """Plan tickets: create epics, stories, or tasks with interview process."""
    output.info(f"Planning {ticket_id}...")
    output.warning("Coming in EPIC-0001.2: Workflow engine & planning logic")
```

### 2. review command
```python
@app.command()
def review(
    ticket_id: str = typer.Argument(..., help="Ticket ID to review (e.g., EPIC-0001.3)"),
    focus: str = typer.Option(None, "--focus", help="Specific concern to focus on"),
) -> None:
    """Review ticket quality, detect issues, propose fixes."""
    output.info(f"Reviewing {ticket_id}...")
    output.warning("Coming in EPIC-0001.2: Quality checker & validation logic")
```

### 3. execute command
```python
@app.command()
def execute(
    ticket_id: str = typer.Argument(..., help="Ticket ID to execute (e.g., TASK-0001.2.4.3)"),
    dry_run: bool = typer.Option(False, "--dry-run", help="Show actions without executing"),
) -> None:
    """Execute ticket workflows: state transitions, git operations, validations."""
    output.info(f"Executing {ticket_id}...")
    output.warning("Coming in EPIC-0001.2: Workflow execution engine")
```

### 4. validate command
```python
@app.command()
def validate(
    target: str = typer.Argument("workflow", help="What to validate: workflow, ticket, or config"),
    path: str = typer.Option(".gitstory/workflow.yaml", "--path", help="Path to file"),
) -> None:
    """Validate workflow.yaml, ticket structure, or config files."""
    output.info(f"Validating {target} at {path}...")
    output.warning("Coming in EPIC-0001.2: Validation engine")
```

### 5. test-plugin command
```python
@app.command(name="test-plugin")
def test_plugin(
    plugin_name: str = typer.Argument(..., help="Plugin to test (e.g., all_children_done)"),
    ticket_id: str = typer.Option(None, "--ticket", help="Ticket ID for plugin context"),
    verbose: bool = typer.Option(False, "--verbose", "-v", help="Show detailed output"),
) -> None:
    """Test individual workflow plugins in isolation."""
    output.info(f"Testing plugin {plugin_name}...")
    output.warning("Coming in EPIC-0001.3: Plugin testing framework")
```

### 6. init command
```python
@app.command()
def init(
    force: bool = typer.Option(False, "--force", help="Overwrite existing .gitstory/"),
) -> None:
    """Initialize GitStory in repository: copy workflow.yaml, create directories."""
    output.info("Initializing GitStory...")
    output.warning("Coming in EPIC-0001.2: Initialization logic")
```

## Consistent Patterns

### Argument Structure
- First positional argument: Primary entity (ticket_id, plugin_name, target)
- Optional flags: --verbose, --dry-run, --focus, --force
- Help text: Clear, concise, includes examples

### Output Structure (Placeholder)
1. Info message: "Processing {entity}..."
2. Warning message: "Coming in EPIC-X.Y: [specific implementation]"
3. Exit code 0 (success placeholder)

### Error Handling
- Invalid ticket ID format â†’ Exit code 1
- Missing required argument â†’ Typer shows usage
- Unknown option â†’ Typer shows error

## Pattern Reuse

- `typer.Argument()` - Positional arguments with validation
- `typer.Option()` - Optional flags with defaults
- `OutputFormatter` - From TASK-0001.1.3.1 for consistent messages

## Dependencies

- TASK-0001.1.3.1 complete (OutputFormatter available)
- pyproject.toml entry point: `gitstory = "gitstory.cli:app"`

## Success Criteria

- âœ… All 6 commands implemented with consistent signatures
- âœ… Commands accept correct arguments and options
- âœ… Placeholder messages show future epic where logic will be implemented
- âœ… Help text clear and includes examples
- âœ… Exit codes correct (0 for success placeholder)
- âœ… All commands callable: `gitstory plan`, `gitstory review`, etc.
- âœ… Code coverage >90%
