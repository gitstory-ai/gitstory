# TASK-0001.1.1.2: Configure pyproject.toml with dependencies and tools

**Parent Story**: [STORY-0001.1.1](README.md)
**Status**: ðŸ”µ Not Started
**Estimated Hours**: 3
**Actual Hours**: -

## Objective

Enhance the basic pyproject.toml created in TASK-0001.1.1.1 with complete project metadata, dependencies (PyYAML only - templates use string.Template), dev dependencies (pytest, pytest-cov, ruff, mypy), and tool configurations following the specification in the story's Technical Design section.

## Implementation Checklist

### Project Metadata Configuration

- [ ] Update `[project]` section with complete metadata:
  - [ ] name = "gitstory"
  - [ ] version = "0.1.0"
  - [ ] description = "Workflow-agnostic ticket management distributed as Claude Code plugin"
  - [ ] authors = [{name = "Bram Swenson", email = "bram@craniumisajar.com"}]
  - [ ] requires-python = ">=3.12"

### Dependencies Configuration

- [ ] Add `[project.dependencies]` section:
  - [ ] pyyaml>=6.0 (YAML parsing for configs, workflow.yaml, frontmatter)
  - Note: Jinja2 removed per YAGNI - templates use string.Template (stdlib)

### Dev Dependencies Configuration

- [ ] Add `[project.optional-dependencies]` section with `dev` group:
  - [ ] pytest>=7.4
  - [ ] pytest-cov>=4.1
  - [ ] ruff>=0.1
  - [ ] mypy>=1.7

### Build System Configuration

- [ ] Verify `[build-system]` section:
  - [ ] requires = ["hatchling"]
  - [ ] build-backend = "hatchling.build"

### Ruff Configuration

- [ ] Add `[tool.ruff]` section:
  - [ ] line-length = 100
  - [ ] target-version = "py312"
- [ ] Add `[tool.ruff.lint]` section:
  - [ ] select = ["E", "F", "I", "N", "W", "UP"]

### Mypy Configuration

- [ ] Add `[tool.mypy]` section:
  - [ ] python_version = "3.12"
  - [ ] warn_return_any = true
  - [ ] warn_unused_configs = true
  - [ ] disallow_untyped_defs = true

### Pytest Configuration

- [ ] Add `[tool.pytest.ini_options]` section:
  - [ ] testpaths = ["tests"]
  - [ ] addopts = "-v --cov=src/gitstory --cov-report=term-missing"

### Installation & Verification

- [ ] Install dependencies: `uv sync --all-extras`
- [ ] Verify installations:
  - [ ] `uv run pytest --version` (pytest available)
  - [ ] `uv run ruff --version` (ruff available)
  - [ ] `uv run mypy --version` (mypy available)
- [ ] Test ruff: `uv run ruff check src/` (should pass with no errors)
- [ ] Test mypy: `uv run mypy src/` (should pass, even if no typed code yet)

## Files to Create/Modify

- MODIFY: `pyproject.toml` (expand from ~30 to ~80 lines with full configuration)

## Configuration Reference

See story README Technical Design section for complete pyproject.toml template. Copy the configuration exactly as specified.

## Testing Approach

**Config validation** - verify tools install correctly and can run without errors.

## Notes

- This task enhances the basic pyproject.toml from TASK-0001.1.1.1
- Use the complete configuration from story Technical Design section as reference
- `uv sync --all-extras` installs both main and dev dependencies
- Tool configurations follow best practices from ruff/mypy/pytest docs

## Success Criteria

- [ ] pyproject.toml contains all required sections
- [ ] All dependencies installed successfully with `uv sync --all-extras`
- [ ] ruff, mypy, pytest commands work via `uv run`
- [ ] Configuration matches story Technical Design specification
- [ ] Ready for TASK-0001.1.1.3 (TESTING.md documentation)
