# TASK-0001.1.1.2: Configure pyproject.toml with dependencies and tools

**Parent Story**: [STORY-0001.1.1](README.md)
**Status**: âœ… Complete
**Estimated Hours**: 3
**Actual Hours**: 1

## Objective

Enhance the basic pyproject.toml created in TASK-0001.1.1.1 with complete project metadata, dependencies (PyYAML only - templates use string.Template), dev dependencies (pytest, pytest-cov, ruff, mypy), and tool configurations following the specification in the story's Technical Design section.

## Implementation Checklist

### Project Metadata Configuration

- [x] Update `[project]` section with complete metadata:
  - [x] name = "gitstory"
  - [x] version = "0.1.0"
  - [x] description = "Workflow-agnostic ticket management distributed as Claude Code plugin"
  - [x] authors = [{name = "Bram Swenson", email = "bram@craniumisajar.com"}]
  - [x] requires-python = ">=3.12"

### Dependencies Configuration

- [x] Add `[project.dependencies]` section:
  - [x] pyyaml>=6.0 (YAML parsing for configs, workflow.yaml, frontmatter)
  - Note: Jinja2 removed per YAGNI - templates use string.Template (stdlib)

### Dev Dependencies Configuration

- [x] Add `[project.optional-dependencies]` section with `dev` group:
  - [x] pytest>=7.4
  - [x] pytest-cov>=4.1
  - [x] ruff>=0.1
  - [x] mypy>=1.7

### Build System Configuration

- [x] Verify `[build-system]` section:
  - [x] requires = ["hatchling"]
  - [x] build-backend = "hatchling.build"

### Ruff Configuration

- [x] Add `[tool.ruff]` section:
  - [x] line-length = 100
  - [x] target-version = "py312"
- [x] Add `[tool.ruff.lint]` section:
  - [x] select = ["E", "F", "I", "N", "W", "UP"]

### Mypy Configuration

- [x] Add `[tool.mypy]` section:
  - [x] python_version = "3.12"
  - [x] warn_return_any = true
  - [x] warn_unused_configs = true
  - [x] disallow_untyped_defs = true

### Pytest Configuration

- [x] Add `[tool.pytest.ini_options]` section:
  - [x] testpaths = ["tests"]
  - [x] addopts = "-v --cov=src/gitstory --cov-report=term-missing"

### Installation & Verification

- [x] Install dependencies: `uv sync --all-extras`
- [x] Verify installations:
  - [x] `uv run pytest --version` (pytest available)
  - [x] `uv run ruff --version` (ruff available)
  - [x] `uv run mypy --version` (mypy available)
- [x] Test ruff: `uv run ruff check src/` (should pass with no errors)
- [x] Test mypy: `uv run mypy src/` (should pass, even if no typed code yet)

## Files to Create/Modify

- MODIFY: `pyproject.toml` (expand from ~30 to ~80 lines with full configuration)

## Configuration Reference

See story README Technical Design section for complete pyproject.toml template. Copy the configuration exactly as specified.

## Testing Approach

**Config validation** - verify tools install correctly and can run without errors.

## Notes

- This task enhances the basic pyproject.toml from TASK-0001.1.1.1
- Use the complete configuration from story Technical Design section as reference
- `uv sync --all-extras` installs both main and dev dependencies
- Tool configurations follow best practices from ruff/mypy/pytest docs

## Success Criteria

- [ ] pyproject.toml contains all required sections
- [ ] All dependencies installed successfully with `uv sync --all-extras`
- [ ] ruff, mypy, pytest commands work via `uv run`
- [ ] Configuration matches story Technical Design specification
- [ ] Ready for TASK-0001.1.1.3 (TESTING.md documentation)
